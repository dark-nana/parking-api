<!DOCTYPE html> 
<html>
<head>
   <title>Page Title</title>
    <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" type="text/css" href="css/index.css">
   

  <link rel="shortcut icon" href="favicon.ico">
  <link rel="stylesheet" href="css/themes/default/jquery.mobile-1.4.5.min.css">
  <link rel="stylesheet" href="_assets/css/jqm-demos.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
  <script type="text/javascript" src="js/index.js"></script>
  <script src="js/jquery.js"></script>
  <script src="_assets/js/index.js"></script>
  <script src="js/jquery.mobile-1.4.5.min.js"></script>



   <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
   <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
   <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
   <script>

      $(document).ready(function () {

         var BASE_URL = "backend/traiter.php?service=";
         //fonction pour se loger
         loger = function ()
         {
            slogin = $("#email").val();
            spass = $("#pass").val();
            srole=$("#id_role_g").val();
            $.ajax({
               url: BASE_URL + "loger",
               method: "POST",
               data: { email: slogin, password: spass, role: srole }
            }).done(function (msg) {
                 alert(msg.code);
               if(msg.code==0){
                  document.location.href="#page2";
               } 
               else {
                  $("#lnotif").html("Erreur sur Login ou Pass!!!");
               }
            });
            return false;
          }

         //fonction pour s'insertion de gerant
         ins_abonne = function () {
            snom = $("#id_nom_a").val();
            sprenom = $("#id_prenom_a").val(); 
            sdate_naissance = $("#id_date_naissance_a").val();
            semail = $("#id_email_a").val();
            spass = $("#id_pass_a").val();
            sconfirmer = $("#id_confirmer_a").val();
            stel = $("#id_tel_a").val();
            scarte = $("#id_carte_a").val();
            sadresse = $("#id_adresse_a").val();
            sville = $("#id_ville_a").val();
            sgenre = $("#id_genre_a").val();
            srole = $("#id_role_a").val();


            sreservation = $("#id_date_reservation_a").val();
            sheure = $("#id_heure_a").val();
            slieux = $("#id_lieux_a").val();
            svoiture = $("#id_voiture_a").val();
            smatricule = $("#id_matricule_a").val();
            // il faut faire la valdiation des champs
            $.ajax({
               url: BASE_URL + "ins_abonne",
               method: "POST",
               data: { nom_abonne: snom, prenom_abonne: sprenom, date_naissance: sdate_naissance, email: semail, password: spass, telephone: stel, cin: scarte, adresse: sadresse, ville: sville, sexe: sgenre, role: srole, date_debut: sreservation, duree: sheure, localite: slieux, voiture: svoiture, matricule: smatricule}
            }).done(function (msg) {
              alert(msg.code);
               if(msg.code==0){
                  document.location.href="#page2";
               } 
               else {
                  $("#anotif").html("Erreur !!!");
               }
            });
            return false;
         }

         //inserton des clients existant
         ins_reservation = function () {
            snom = $("#nom_rs").val();
            sprenom = $("#prenom_rs").val();
            sdate_naissance = $("#date_rs").val();
            stel = $("#tel_rs").val();
          


            sreservation = $("#id_date_reservation_a").val();
            sheure = $("#id_heure_a").val();
            slieux = $("#id_lieux_a").val();
            svoiture = $("#id_voiture_a").val();
            smatricule = $("#id_matricule_a").val();
            // il faut faire la valdiation des champs
            $.ajax({
               url: BASE_URL + "ins_abonne",
               method: "POST",
               data: { nom_abonne: snom, prenom_abonne: sprenom, role_abonne: srole, date_naissance: sdate_naissance, email: semail, password: spass, telephone: stel, cin: scarte, adresse: sadresse, ville: sville, sexe: sgenre, date_debut: sreservation, duree: sheure, localite: slieux, voiture: svoiture, matricule: smatricule}
            }).done(function (msg) {
              alert(msg.code);
               if(msg.code==0){
                  document.location.href="#page2";
               } 
               else {
                  $("#anotif").html("Erreur !!!");
               }
            });
            return false;
         }

         admin_search = function () {
            ssrch = $("#srch").val();
      
            // il faut faire la valdiation des champs
            $.ajax({
               url: BASE_URL + "admin_search",
               method: "POST",
               data: { nom_abonne: ssrch}
            }).done(function (msg) {
              alert(msg.code);
               if(msg.code==0){
                  $("h1 #test").html("Erreur sur Login ou Pass!!!");
                  document.location.href="#page3";
               } 
               else {
                  $("#anotif").html("Erreur !!!");
               }
            });
            return false;
         }

         $("#reach1 input").css({"border" :"3px solid #73AD21"});
         $(".ui-body").css({"text-align" :"center","color" :"green","text-decoration": "underline"});
         $(".ui-body input").css({"border" :"3px solid #73AD21"});
      });
   </script>
   <script type="text/javascript" src="jquery-3.5.1.js"></script>
   <script type="text/javascript" src="jquery.mobile-1.4.5.js"></script>
</head>

<body>
  <!-- page1 de connection -->
   <div data-role="page" id="page1">
    <div data-role="header" data-theme="b">
           <h1>DARK-NANA_PARKING-CARS_Gerant <span id="lnotif"></span></h1>
    </div>
      <div data-role="content" class="loger">
        <form action="#" method="POST" id="form1" data-transition="flow" data-rel="dialog">

            <div data-role="fieldcontain">
               <input placeholder="Votre email" type="email" name="email" id="email" data-mini="true" required="required"/>
            </div>
   
            <div data-role="fieldcontain">
               <input placeholder="password" type="password" name="password" id="pass" data-mini="true" required="required"/>
            </div>

            <div data-role="fieldcontain">
               <input type="hidden" name="role" id="id_role_g" data-mini="true" required="required" value="gerant" />
            </div>

            <div data-role="fieldcontain" id="div_but">
               <button type="submit" name="service" class="ui-btn ui-btn-b ui-btn-inline" value="loger" data-mini="true" onclick="loger()">Envoyer</button>
            </div>
      </form>
      </div>

      <div data-role="footer" data-theme="b">
          <p style="text-align: center; ">Powered by dark-nana</p>
    </div>
    </div>
    <!-- fin de page1 de connection -->

    <!-- page2 de gerant home -->
    <div data-role="page" id="page2">
      <div data-role="header" data-theme="b">
           <h1>DARK-NANA_PARKING-CARS_Gerant <span id="test"></span></h1>
           <hr>  
      </div>
      <div>
        <nav data-role="navbar">
          <ul>
            <li>
              <a href="#" class="ui-btn-active ui-state-persist" data-icon = "grid" >g-home</a>
            </li>
            <li>
              <a href="#page4" class="ui-btn-active ui-state-persist" data-icon = "grid" >abonne</a>
            </li>
            <li>
              <a href="#page5" class="ui-btn-active ui-state-persist" data-icon = "grid" >reservation</a>
            </li>
            <li>
              <a href="#page1" class="ui-btn-active ui-state-persist" data-icon = "avatar">exit</a>
            </li>
          </ul>
        </nav>
       </div>
      <div data-role="content">
          <form data-role="fieldcontain">
              <input data-type="search" id="srch" name="srch_r">
              <div id="div_but">
               <button type="submit" name="service" class="ui-btn ui-btn-b ui-btn-inline" value="admin_search" data-mini="true" onclick="admin_search()">Rechercher</button>
            </div>
          </form>
      </div>

      <div class="ui-bar">
        <ul data-role="listview" data-inset="true">
              <li>Acura</li>
              <li>Audi</li>
              <li>BMW</li>
              <li>Cadillac</li>
              <li>Ferrari</li>
          </ul>
      </div>
  
    <div class="ui-corner-all custom-corners">
      <div class="ui-bar ui-bar-a">
          <ul data-role="listview" data-inset="true">
             <li><a href="a_tr.html" data-transition="slide">Abonnees</a></li>
             <li><a href="partenaires.html" data-transition="slide">Nos partenaires</a></li>
             <li><a href="p_tr.html" data-transition="slide">à propos de nous</a></li>
          </ul>
      </div>
    </div>


    <div data-role="footer" data-theme="b">
          <p style="text-align: center; ">Powered by dark-nana</p>
    </div>
    </div>
    <!-- fin de page2 de gerant home -->

    <!-- page4 de creer un abonne -->
    <div data-role="page" id="page4">
      <div data-role="header" data-theme="b">
           <h1>DARK-NANA_PARKING-CARS_Gerant <span id="anotif"></span></h1>
           <hr>  
      </div>
      <div>
        <nav data-role="navbar">
          <ul>
           <li>
              <a href="#page2" class="ui-btn-active ui-state-persist" data-icon = "grid" >gerant home</a>
            </li>
            <li>
              <a href="#" class="ui-btn-active ui-state-persist" data-icon = "grid" >creer un abonne</a>
            </li>
            <li>
              <a href="#page5" class="ui-btn-active ui-state-persist" data-icon = "grid" >faire une reservation</a>
            </li>
            <li>
              <a href="#page1" class="ui-btn-active ui-state-persist" data-icon = "avatar">deconnection</a>
            </li>
          </ul>
        </nav>
       </div>
      <div data-role="content">
           <h1>creer un abonne</h1>
      </div>
            <div data-role="fieldcontain" data-theme="a">
        <form action="#" method="POST" id="form3" data-transition="flow" data-rel="dialog">
            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Nom</h5>
               <p><input placeholder="Votre nom abonne" type="text" name="nom" id="id_nom_a" data-mini="true" required="required"/></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Prenom</h5>
               <p><input placeholder="Votre prenom abonne" type="text" name="prenom" id="id_prenom_a" data-mini="true" required="required"/></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Date de naissance</h5>
               <p><input placeholder="Votre date_naissance du abonne" type="date" name="date_naissance" id="id_date_naissance_a" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Email</h5>
               <p><input placeholder="Votre email du abonne" type="email" name="email" id="id_email_a" data-mini="true" required="required"/></p>
            </div>
   
            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
               <p><input type="hidden" name="pass" id="id_pass_a" data-mini="true" value="neant" required="required"/></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Mobile</h5>
               <p><input placeholder="telephone" type="tel" name="tel" id="id_tel_a" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Carte d'identité</h5>
               <p><input placeholder="cin" type="text" name="carte" id="id_carte_a" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Pays</h5>
               <p><input placeholder="Votre adresse du abonne" type="text" name="adresse" id="id_adresse_a" data-mini="true" required="required"></p>
            </div>
   
            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Région et quartier</h5>
               <p><input placeholder="ville" type="text" name="ville" id="id_ville_a" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Genre</h5>
              <p>
              <select required="required"/ data-mini="true" id="id_genre_a" name="genre">
                <option value="homme">homme</option>
                <option value="femme">femme</option>
              </select></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <p><input type="hidden" name="role" id="id_role_a" data-mini="true" required="required" value="abonne" ></p>
            </div>

            <div data-role="fieldcontain">
              <h1>Faire la reservation</h1>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Date de reservation</h5>
               <p><input placeholder="Votre date de reservation " type="date" name="date_reservation" id="id_date_reservation_a" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Heure</h5>
               <p><input placeholder="duree du reservation" type="time" name="heure" id="id_heure_a" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Localité</h5>
              <p> <select required="required"/ data-mini="true" id="id_lieux_a" name="lieux">
                <option value="PPL-1">PPL-1</option>
                <option value="PPL-2">PPL-2</option>
                <option value="PPL-3">PPL-3</option>
                <option value="PPL-4">PPL-4</option>
                <option value="PPL-5">PPL-5</option>
                <option value="PPL-6">PPL-6</option>
                <option value="PPL-7">PPL-7</option>
                <option value="PPL-8">PPL-8</option>
                <option value="PPL-9">PPL-9</option>
                <option value="PPL-10">PPL-10</option>
                <option value="PPL-11">PPL-11</option>
                <option value="PPL-12">PPL-12</option>
                <option value="PPL-13">PPL-13</option>
                <option value="PPL-14">PPL-14</option>
                <option value="PPL-15">PPL-15</option>
                <option value="PPL-16">PPL-16</option>
                <option value="PPL-17">PPL-17</option>
              </select></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Voiture</h5>
               <p><input placeholder="voiture" type="text" name="voiture" id="id_voiture_a" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Matricule</h5>
               <p><input placeholder="Matricule" type="text" name="matricule" id="id_matricule_a" data-mini="true" required="required"></p>
            </div>
   
            <div data-role="fieldcontain" id="div_but"> 
               <a href="#page1" class="ui-btn ui-btn-inline">Se connecter</a>
                  <button type="submit" name="service" class="ui-btn ui-btn-b ui-btn-inline" value="ins_abonne" onclick="ins_abonne()">Envoyer</button>   
            </div>
         </form>
         <script href="js/index.js"></script>
      </div>

    <div data-role="footer" data-theme="b">
          <p style="text-align: center; ">Powered by dark-nana</p>
    </div>
    </div>
    <!-- fin de page4 de creer un abonne -->

    <!-- page5 de faire une reservation -->
    <div data-role="page" id="page5">
      <div data-role="header" data-theme="b">
           <h1>DARK-NANA_PARKING-CARS_Gerant</h1>
           <hr>  
      </div>
      <div>
        <nav data-role="navbar">
          <ul>
           <li>
              <a href="#page2" class="ui-btn-active ui-state-persist" data-icon = "grid" >gerant home</a>
            </li>
            <li>
              <a href="#page4" class="ui-btn-active ui-state-persist" data-icon = "grid" >creer un abonne</a>
            </li>
            <li>
              <a href="#" class="ui-btn-active ui-state-persist" data-icon = "grid" >faire une reservation</a>
            </li>
            <li>
              <a href="#page1" class="ui-btn-active ui-state-persist" data-icon = "avatar">deconnection</a>
            </li>
          </ul>
        </nav>
       </div>
      <div data-role="content" class ="content1">
           <h1>faire une reservation</h1>

        <div  data-theme="a">
        <div id="reach1">
                <input class="f" name="nom_rs" type="text" placeholder="Nom">
                <input class="f" name="prenom_rs" type="text" placeholder="Prenom">
            
                <input class="f" name="date_rs" type="date" placeholder="Date de naissance">
            
                <input class="f" name="tel_rs" type="tel" placeholder="Telephone">
                           
                <button type="submit" name="reach" value="reach" >Envoyer</button> 
        </div>

        <div class="ui-bar">
        <ul data-role="listview" data-inset="true">
              <li>Acura</li>
              <li>Audi</li>
              <li>BMW</li>
              <li>Cadillac</li>
              <li>Ferrari</li>
          </ul>
      </div>
      </div>

      
      <!-- reservation-->
            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5 id="date_reservation">Date de reservation</h5>
               <p><input placeholder="Votre date de reservation " type="date" name="date_reservation" id="id_date_reservation" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Heure</h5>
               <p><input placeholder="duree du reservation" type="time" name="heure" id="id_heure" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Localité</h5>
               <p> <select required="required"/ data-mini="true" id="id_lieux_a" name="lieux">
                <option value="PPL-1">PPL-1</option>
                <option value="PPL-2">PPL-2</option>
                <option value="PPL-3">PPL-3</option>
                <option value="PPL-4">PPL-4</option>
                <option value="PPL-5">PPL-5</option>
                <option value="PPL-6">PPL-6</option>
                <option value="PPL-7">PPL-7</option>
                <option value="PPL-8">PPL-8</option>
                <option value="PPL-9">PPL-9</option>
                <option value="PPL-10">PPL-10</option>
                <option value="PPL-11">PPL-11</option>
                <option value="PPL-12">PPL-12</option>
                <option value="PPL-13">PPL-13</option>
                <option value="PPL-14">PPL-14</option>
                <option value="PPL-15">PPL-15</option>
                <option value="PPL-16">PPL-16</option>
                <option value="PPL-17">PPL-17</option>
              </select></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Voiture</h5>
               <p><input placeholder="voiture" type="text" name="voiture" id="id_voiture_a" data-mini="true" required="required"></p>
            </div>

            <div data-role="fieldcontain" class="ui-body ui-body-a ui-corner-all">
              <h5>Matricule</h5>
               <p><input placeholder="Matricule" type="text" name="matricule" id="id_matricule_a" data-mini="true" required="required"></p>
            </div>
   
            <div data-role="fieldcontain" id="div_but"> 
               <a href="#page1" class="ui-btn ui-btn-inline">Se connecter</a>
                  <button type="submit" name="service" class="ui-btn ui-btn-b ui-btn-inline" value="register">Envoyer</button>   
            </div>
         <script href="js/index.js"></script>
      </div>

    <div data-role="footer" data-theme="b">
          <p style="text-align: center; ">Powered by dark-nana</p>
    </div>
    </div>
    <!-- fin de page3 de faire une reservation -->
</body>
</html>